# -*- mode: org; coding: utf-8 -*-
#+TITLE:Emacs config using org-mode
#+AUTHOR:GRC <rongchaogao[at]gmail[dot]com>
#+DATE: 2013-12-20

** 声明全局变量
#+begin_src emacs-lisp
  ;; global variables
  (defconst *is-mac-p* (eq system-type 'darwin))
  (defconst *is-win-p* (eq system-type 'windows-nt))
#+end_src

** 字体和编码
#+begin_src emacs-lisp
  ;; unicad -  Universal Charset Auto Detector
  ;; http://www.emacswiki.org/emacs/Unicad
  (require 'unicad nil 'noerror)
  
  ;; enforce utf-8 as the default coding system
  (prefer-coding-system 'utf-8)
  (set-default-coding-systems 'utf-8)
  (set-terminal-coding-system 'utf-8)
  (set-keyboard-coding-system 'utf-8)
  (set-language-environment 'utf-8)
  ;; backwards compatibility as default-buffer-file-coding-system
  ;; is deprecated in 23.2.
  (if (boundp 'buffer-file-coding-system)
      (setq-default buffer-file-coding-system 'utf-8)
    (setq default-buffer-file-coding-system 'utf-8))
  ;; Treat clipboard input as UTF-8 string first; compound text next, etc.
  (setq x-select-request-type '(UTF8_STRING COMPOUND_TEXT TEXT STRING))
  
  (setq system-time-locale "C")
  
  (when window-system
    ;; Setting English Font
		;; 我们这里用的Monaco字体，因为window下没有，所以我们先安装
		;; 字体文件在font中，扔到C:\Windows\Fonts里面就可以了
    (if *is-mac-p*
        (set-face-attribute 'default nil :font "Monaco 14"))
    (if *is-win-p*
        (set-face-attribute 'default nil :font "Monaco 10"))
    ;; Chinese Font
    (dolist (charset '(kana han symbol cjk-misc bopomofo))
      (set-fontset-font (frame-parameter nil 'font)
                        charset
                        (font-spec :family "Microsoft YaHei" :size 14))))
  
  (mapc
   (lambda (face)
     (set-face-attribute face nil :weight 'normal :underline nil))
   (face-list))
#+end_src

** 启动画面
#+BEGIN_SRC emacs-lisp
  (setq inhibit-startup-message t)
  (setq gnus-inhibit-startup-message t)
#+END_SRC

** 主题设置
#+BEGIN_SRC emacs-lisp
  (add-to-list 'load-path "~/.emacs.d/")
  (require 'color-theme)
  (color-theme-initialize)
  (color-theme-gnome2)
  #+END_SRC
** 隐藏工具栏
#+BEGIN_SRC emacs-lisp
  (custom-set-variables '(tool-bar-mode nil))
#+END_SRC
